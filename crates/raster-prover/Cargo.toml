[package]
name = "raster-prover"
version.workspace = true
edition.workspace = true
license.workspace = true
repository.workspace = true
authors.workspace = true

[features]
default = ["std"]
std = ["raster-core/std"]
# Enable guest module logic (requires alloc, uses postcard for serialization)
guest = []

[dependencies]
raster-core = { workspace = true, default-features = false }
bincode.workspace = true
bridgetree.workspace = true
hex.workspace = true
hex-literal.workspace = true
incrementalmerkletree.workspace = true
itertools.workspace = true
rand.workspace = true
sha2.workspace = true
serde.workspace = true
# postcard is no_std compatible, used for guest serialization
postcard.workspace = true

[target.'cfg(not(target_os = "zkvm"))'.dependencies]
risc0-zkvm = { version = "1.2", features = ["prove", "std"], optional = true }

[build-dependencies]
risc0-build = { version = "1.2", optional = true }

[package.metadata.risc0]
methods = ["guests/init", "guests/transition"]